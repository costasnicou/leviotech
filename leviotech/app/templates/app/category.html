{% extends 'app/base.html' %}
{% load static %}
{% block metatitle %}
 <title>Leviotech - {{category.name}}</title>
{% endblock %}
{% block css %}
    <link rel="stylesheet" href="{% static 'css/desktop/category.css' %}">
    <link rel="stylesheet" href="{% static 'css/desktop-lg/category.css' %}">
    <link rel="stylesheet" href="{% static 'css/desktop-sm/category.css' %}">
    <link rel="stylesheet" href="{% static 'css/mobile/category.css' %}">
{% endblock %}

{% block hero %}
   <div class="beadcrumb">
        <p><a href="{% url 'homepage' %}">Home</a> > <a href="{% url 'category_detail' slug=category.slug %}">{{category.name}}</a> </p>
   </div>


{% endblock %}

{% block main %}
<!-- <h1></h1> -->
<section class="category-products">
    <h2 class="section-title">{{category.name}}</h2>
    <div class="category-products-wraper wraper-width">
        {% for product in products %}
            <div class="product">
                {% if product.get_featured_image %}
                <img class="product-img" src="{{ product.get_featured_image.image.url }}" alt="{{ product.title }}">
                {% endif %}
                <p class="product-title">{{ product.title }}</p>
                <a class="product-view-more" href="{% url 'product_detail' slug=product.slug %}">View More</a>
            </div>
        {% endfor %}
     
    </div>
    <div class="pagination">
        {% if products.has_previous %}
            <a href="?page=1{% if querystring %}&{{ querystring }}{% endif %}">« First</a>
            <a href="?page={{ products.previous_page_number }}{% if querystring %}&{{ querystring }}{% endif %}">‹ Prev</a>
        {% endif %}
        
        {% if products.paginator.num_pages > 1 %}
            {% for num in products.paginator.page_range %}
          
                {% if num > products.number|add:'-3' and num < products.number|add:'3' %}
                    {% if products.number == num %}
                        <span class="current">{{ num }}</span>
                    {% else %}
                        <a href="?page={{ num }}{% if querystring %}&{{ querystring }}{% endif %}">{{ num }}</a>
                    {% endif %}
                {% endif %}
            {% endfor %}
        {% endif %}

        {% if products.has_next %}
            <a href="?page={{ products.next_page_number }}{% if querystring %}&{{ querystring }}{% endif %}">Next ›</a>
            <a href="?page={{ products.paginator.num_pages }}{% if querystring %}&{{ querystring }}{% endif %}">Last »</a>
        {% endif %}
    </div>
</section>
{% endblock %}

{% block scripts %}

{% endblock %}